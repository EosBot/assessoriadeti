https://github.com/w7089/rabbitmq-cluster-single-docker-swarm-service

docker config create rabbitmq-config rabbitmq.conf

docker network create --driver overlay prod-net

docker stack deploy -c docker-compose.yml cluster

docker exec -i [container_ip] hostname -i

Modify /etc/hosts of each container to contain entries of other 2 containers:
For example for cluster_rabbitmq.1... container run:
docker exec -it [rabbitmq1_container_ip] bash bash-5.0# echo "10.0.1.9    rabbitmq-2" >> /etc/hosts bash-5.0# echo "10.0.1.10    rabbitmq-3" >> /etc/hosts

docker exec -it [rabbitmq1_container_ip] bash

bash-5.0# rabbitmqctl cluster_status

